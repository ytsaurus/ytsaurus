# Администрирование приватной клики

В данной статье описано, как администрировать собственную клику и за какими проявлениями ее жизнедеятельности можно и нужно следить. 

## Доступы { #access }

Пользователи аутентифицируются в CHYT так же, как и в {{product-name}} — с использованием токена от {{product-name}} (подробнее см. [Аутентификация](../../../../../user-guide/storage/auth.md)). CHYT проверяет права двух видов.

Во-первых, при приеме запроса клика проверяет, что у пользователя, из-под которого совершен запрос, есть право на использование клики, которое обусловлено ACL на операции, в которой запущена клика. Для того, чтобы у пользователя была возможность запускать запросы в клике, необходимы права `read`. Эта проверка не позволяет пользоваться вычислительными ресурсами чужих клик. Права `manage` по-прежнему означают возможность управления операцией, в частности, остановки клики или suspend'а инстансов клики.

Например, если при запуске операции был указан ACL вида:

```
acl = [
    {
        subjects = [user1; user2];
        action = allow;
        permissions = [read; manage];
    };
    {
        subjects = [second-floor-guys];
        action = allow;
        permissions = [read];
    };
];
```

где `second-floor-guys` обозначает некоторую группу в {{product-name}}, то тогда `second-floor-guys`, `user1` и `user2` смогут задавать запросы в эту клику, а двое последних еще и будут иметь возможность ее остановить.

Во-вторых, при доступе к любым данным в {{product-name}} происходит проверка доступа на чтение или запись ко всем упомянутым в запросе таблицам согласно стандартному механизму ACL, используемому в {{product-name}}. Эта проверка гарантирует безопасность доступа к данным.

## Изменение ACL работающей клики { #change-acl }

Изменить ACL можно при помощи команды `update_op_parameters` (ссылка?), для этого необходимо:

1. Ввести алиас клики в поле **Filter Operations**, нажать **Go to operation**. Алиас начинается с символа `\*`, это имя клики.

   ![find_operation_by_alias](../../../../../../images/find_op_by_alias.png){ .center }

2. Перейти на страницу операции, скопировать `Id`.

3. Выполнить команду, которая полностью заменит acl операции. Подставить `Id` из пункта 3.

   ```bash
   yt --proxy <cluster_name> update-op-parameters --operation <operation_id> '{acl = [{subjects=[robot-1; robot-2; robot-3]; action=allow; permissions=[read]};{subjects=[<subject>]; action=allow; permissions=[read;manage]}]}'
   ```
