# This file was generated by the YaTool build system (https://github.com/yandex/yatool),
# from a source YaTool build configuration provided in ya.make files.
#
# If the repository supports both CMake and ya build configurations, please modify both of them.
#
# If only CMake build configuration is supported then modify only CMake files and note that only
# simple modifications are allowed like adding source-files to targets or adding simple properties
# like target_include_directories. These modifications will be ported to original ya.make files
# by maintainers. Any complex modifications which can't be easily ported back to the ya build
# system may be rejected.
#
# Please refer to the build instructions in the repository for more information about manual
# changes in this file.

find_package(linux-headers-generic REQUIRED)

add_subdirectory(unittests)

add_library(yt-library-formats)


target_compile_options(yt-library-formats PRIVATE
  -Wdeprecated-this-capture
  -Wimplicit-fallthrough
)

target_link_libraries(yt-library-formats PUBLIC
  linux-headers-generic::linux-headers-generic
  contrib-libs-cxxsupp
  yutil
  yt-yt-client
  yt-client-formats
  client-arrow-fbs
  yt-library-column_converters
  libs-apache-arrow
  contrib-libs-yaml
)

target_sources(yt-library-formats PRIVATE
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/arrow_parser.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/arrow_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/dsv_parser.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/dsv_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/escape.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/format.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/protobuf.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/protobuf_options.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/protobuf_parser.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/protobuf_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/schemaful_dsv_parser.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/schemaful_dsv_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/schemaless_writer_adapter.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/skiff_parser.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/skiff_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/skiff_yson_converter.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/unversioned_value_yson_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/web_json_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yaml_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yaml_parser.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yaml_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yamred_dsv_parser.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yamred_dsv_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yamr_parser_base.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yamr_parser.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yamr_writer_base.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yamr_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yql_yson_converter.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yson_map_to_unversioned_value.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/formats/yson_parser.cpp
)

