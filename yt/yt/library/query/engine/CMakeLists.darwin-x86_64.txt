# This file was generated by the YaTool build system (https://github.com/yandex/yatool),
# from a source YaTool build configuration provided in ya.make files.
#
# If the repository supports both CMake and ya build configurations, please modify both of them.
#
# If only CMake build configuration is supported then modify only CMake files and note that only
# simple modifications are allowed like adding source-files to targets or adding simple properties
# like target_include_directories. These modifications will be ported to original ya.make files
# by maintainers. Any complex modifications which can't be easily ported back to the ya build
# system may be rejected.
#
# Please refer to the build instructions in the repository for more information about manual
# changes in this file.

get_built_tool_path(
  TOOL_rescompiler_bin
  TOOL_rescompiler_dependency
  tools/rescompiler/bin
  rescompiler
)

add_subdirectory(time)

add_library(library-query-engine)


target_compile_options(library-query-engine PRIVATE
  -DWASM_C_API=WAVM_API
  -DWAVM_API=
  -Wdeprecated-this-capture
  -Wimplicit-fallthrough
)

target_include_directories(library-query-engine PUBLIC
  ${PROJECT_BINARY_DIR}/yt
)

target_include_directories(library-query-engine PRIVATE
  ${PROJECT_SOURCE_DIR}/contrib/libs/sparsehash/src
  ${PROJECT_SOURCE_DIR}/contrib/libs/re2
  ${PROJECT_SOURCE_DIR}/contrib/libs/xdelta3
  ${PROJECT_SOURCE_DIR}/contrib/restricted/wavm/Include
)

target_link_libraries(library-query-engine PUBLIC
  contrib-libs-cxxsupp
  yutil
  yt-yt-core
  yt-library-codegen
  library-web_assembly-api
  library-web_assembly-engine
  library-query-base
  library-query-engine_api
  library-query-misc
  library-query-proto
  query-engine-time
  yt-yt-client
  cpp-yt-memory
  cpp-xdelta3-state
  contrib-libs-sparsehash
  library-cpp-resource
)

target_sources(library-query-engine PRIVATE
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/cg_fragment_compiler.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/cg_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/cg_ir_builder.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/cg_routines.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/folding_profiler.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/functions_cg.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/functions_builder.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/position_independent_value_caller.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/web_assembly_caller.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/web_assembly_data_transfer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/web_assembly_type_builder.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/disable_system_libraries.cpp
)


add_global_library_for(library-query-engine.global
  library-query-engine)


target_compile_options(library-query-engine.global PRIVATE
  -DWASM_C_API=WAVM_API
  -DWAVM_API=
  -Wdeprecated-this-capture
  -Wimplicit-fallthrough
)

target_include_directories(library-query-engine.global PUBLIC
  ${PROJECT_BINARY_DIR}/yt
)

target_include_directories(library-query-engine.global PRIVATE
  ${PROJECT_SOURCE_DIR}/contrib/libs/sparsehash/src
  ${PROJECT_SOURCE_DIR}/contrib/libs/re2
  ${PROJECT_SOURCE_DIR}/contrib/libs/xdelta3
  ${PROJECT_SOURCE_DIR}/contrib/restricted/wavm/Include
)

target_link_libraries(library-query-engine.global PUBLIC
  contrib-libs-cxxsupp
  yutil
  yt-yt-core
  yt-library-codegen
  library-web_assembly-api
  library-web_assembly-engine
  library-query-base
  library-query-engine_api
  library-query-misc
  library-query-proto
  query-engine-time
  yt-yt-client
  cpp-yt-memory
  cpp-xdelta3-state
  contrib-libs-sparsehash
  library-cpp-resource
)

target_sources(library-query-engine.global PRIVATE
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/append_function_implementation.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/column_evaluator.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/expression_evaluator.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/coordinator.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/evaluator.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/builtin_function_profiler.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/range_inferrer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/new_range_inferrer.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/a0be0a9e87e4702ae1320a576208a851.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dda3c4dd6be8a78f1812ae538736ee47.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/f1f6f56affb584519806d24589f447b7.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/22027c908ee19396b77d8723f98bb1c3.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/7a47f85ab18a02cf85eac9e7eaef32cc.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/29ae66e84dba37e8d9e0429b1ea6cc4c.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/ae8ea72e9db378ab4660d75de0739397.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/4098a667798572d45e16d8737bd03167.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/b8258f5da4c628a0c84fb6f3a8751d7f.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/2f4db4d38233bde1408120deabbd356f.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/65653f1c40f1c2e4a543344107095913.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/5f4ec20ccb85f95495eafced7c9da4d5.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/ad733a478b5da1dc7d0a96bb51b03419.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/f88e3521f8b389cf0099afc4f072fdf0.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/8f725af6058d18bc81ccf87d1a25151b.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/7b189c7dd63e3d01c428a1f8aff9528e.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/162dbb23eaa37f90733f6ad0ac5d00c3.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/0a598829dfad380e03a490ff18d567a7.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/d1451a33702f7190f3007fb1c4efedb8.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/1b233988ed785256f44caf68e2a31bc5.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/866d548a6cadef2eae2c3cf4727f6190.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/1276b8186777fb2549981f7f100f4851.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/2e11c2bb2e4e15233288517fa383eaa5.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/0a3e0445570226f787d0a072eeeae238.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/3ab18e8cac0e865009bf72a29d47dafc.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/7ad10698537d6d9a5471c59282395582.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/92bf4e9dd5f444eae4740ae9538d2325.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/c45ee0d78ae34fedf23260e28bc06c65.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/4953687a7b828371825ead7a204d9eb1.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/decbfffe4f4b3496370010ffcd66581e.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/22cfcf58ea9f30d440ded279b00b2ee6.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/4538b0b306dcad34198804d167b5c954.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/1e5ca94226708fc7b55334a637d40f12.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/03f4075187902a2612a670cb9c51b4df.cpp
)


add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/hyperloglog_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/hyperloglog.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/hyperloglog.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/hyperloglog_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/hyperloglog_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/hyperloglog_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/hyperloglog_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/hyperloglog_optimized.bc
  -internalize-public-api-list=cardinality_init#cardinality_update#cardinality_merge#cardinality_finalize
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/farm_hash_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/farm_hash.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/farm_hash.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/farm_hash_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/farm_hash_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/farm_hash_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/farm_hash_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/farm_hash_optimized.bc
  -internalize-public-api-list=farm_hash
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/bigb_hash_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/bigb_hash.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/bigb_hash.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/bigb_hash_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/bigb_hash_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/bigb_hash_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/bigb_hash_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/bigb_hash_optimized.bc
  -internalize-public-api-list=bigb_hash
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_map_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/make_map.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/make_map.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_map_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_map_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_map_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_map_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_map_optimized.bc
  -internalize-public-api-list=make_map
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_list_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/make_list.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/make_list.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_list_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_list_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_list_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_list_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_list_optimized.bc
  -internalize-public-api-list=make_list
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_entity_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/make_entity.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/make_entity.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_entity_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_entity_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_entity_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_entity_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_entity_optimized.bc
  -internalize-public-api-list=make_entity
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/str_conv_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/str_conv.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/str_conv.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/str_conv_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/str_conv_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/str_conv_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/str_conv_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/str_conv_optimized.bc
  -internalize-public-api-list=numeric_to_string#parse_int64#parse_uint64#parse_double
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/regex_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/regex.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/regex.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/regex_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/regex_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/regex_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/regex_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/regex_optimized.bc
  -internalize-public-api-list=regex_full_match#regex_partial_match#regex_replace_first#regex_replace_all#regex_extract#regex_escape
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/concat_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/concat.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/concat.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/concat_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/concat_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/concat_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/concat_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/concat_optimized.bc
  -internalize-public-api-list=concat
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/stored_replica_set_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/replica_set.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/replica_set.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/stored_replica_set_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/stored_replica_set_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/stored_replica_set_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/stored_replica_set_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/stored_replica_set_optimized.bc
  -internalize-public-api-list=_yt_stored_replica_set_init#_yt_stored_replica_set_update#_yt_stored_replica_set_merge#_yt_stored_replica_set_finalize
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/last_seen_replica_set_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/last_seen_replica_set.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/last_seen_replica_set.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/last_seen_replica_set_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/last_seen_replica_set_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/last_seen_replica_set_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/last_seen_replica_set_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/last_seen_replica_set_optimized.bc
  -internalize-public-api-list=_yt_last_seen_replica_set_init#_yt_last_seen_replica_set_update#_yt_last_seen_replica_set_merge#_yt_last_seen_replica_set_finalize
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/first_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/first.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/first.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/first_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/first_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/first_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/first_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/first_optimized.bc
  -internalize-public-api-list=first_init#first_update#first_merge#first_finalize
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_prefix_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/is_prefix.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/is_prefix.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_prefix_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_prefix_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_prefix_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_prefix_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_prefix_optimized.bc
  -internalize-public-api-list=is_prefix
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_substr_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/is_substr.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/is_substr.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_substr_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_substr_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_substr_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_substr_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_substr_optimized.bc
  -internalize-public-api-list=is_substr
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_finite_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/is_finite.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/is_finite.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_finite_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_finite_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_finite_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_finite_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_finite_optimized.bc
  -internalize-public-api-list=is_finite
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/to_any_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/to_any.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/to_any.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/to_any_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/to_any_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/to_any_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/to_any_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/to_any_optimized.bc
  -internalize-public-api-list=to_any
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/max_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/max.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/max.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/max_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/max_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/max_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/max_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/max_optimized.bc
  -internalize-public-api-list=max_init#max_update#max_merge#max_finalize
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/min_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/min.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/min.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/min_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/min_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/min_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/min_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/min_optimized.bc
  -internalize-public-api-list=min_init#min_update#min_merge#min_finalize
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sleep_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/sleep.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/sleep.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sleep_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sleep_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sleep_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sleep_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sleep_optimized.bc
  -internalize-public-api-list=sleep
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sum_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/sum.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/sum.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sum_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sum_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sum_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sum_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sum_optimized.bc
  -internalize-public-api-list=sum_init#sum_update#sum_merge#sum_finalize
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/ypath_get_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/ypath_get.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/ypath_get.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/ypath_get_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/ypath_get_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/ypath_get_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/ypath_get_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/ypath_get_optimized.bc
  -internalize-public-api-list=try_get_int64#get_int64#try_get_uint64#get_uint64#try_get_double#get_double#try_get_boolean#get_boolean#try_get_string#get_string#try_get_any#get_any
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/lower_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/lower.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/lower.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/lower_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/lower_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/lower_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/lower_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/lower_optimized.bc
  -internalize-public-api-list=lower
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/length_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/length.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/length.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/length_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/length_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/length_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/length_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/length_optimized.bc
  -internalize-public-api-list=length
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_length_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/yson_length.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/yson_length.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_length_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_length_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_length_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_length_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_length_optimized.bc
  -internalize-public-api-list=yson_length
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dates_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/dates.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/dates.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dates_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dates_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dates_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dates_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dates_optimized.bc
  -internalize-public-api-list=format_timestamp#timestamp_floor_hour#timestamp_floor_day#timestamp_floor_week#timestamp_floor_month#timestamp_floor_year#format_timestamp_localtime#timestamp_floor_hour_localtime#timestamp_floor_day_localtime#timestamp_floor_week_localtime#timestamp_floor_month_localtime#timestamp_floor_year_localtime
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/format_guid_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/format_guid.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/format_guid.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/format_guid_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/format_guid_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/format_guid_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/format_guid_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/format_guid_optimized.bc
  -internalize-public-api-list=format_guid
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_contains_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/list_contains.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/list_contains.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_contains_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_contains_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_contains_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_contains_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_contains_optimized.bc
  -internalize-public-api-list=list_contains
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_has_intersection_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/list_has_intersection.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/list_has_intersection.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_has_intersection_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_has_intersection_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_has_intersection_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_has_intersection_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_has_intersection_optimized.bc
  -internalize-public-api-list=list_has_intersection
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/any_to_yson_string_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/any_to_yson_string.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/any_to_yson_string.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/any_to_yson_string_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/any_to_yson_string_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/any_to_yson_string_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/any_to_yson_string_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/any_to_yson_string_optimized.bc
  -internalize-public-api-list=any_to_yson_string
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/has_permissions_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/has_permissions.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/has_permissions.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/has_permissions_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/has_permissions_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/has_permissions_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/has_permissions_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/has_permissions_optimized.bc
  -internalize-public-api-list=has_permissions
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/xdelta_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/xdelta3.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/xdelta3.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/xdelta_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/xdelta_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/xdelta_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/xdelta_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/xdelta_optimized.bc
  -internalize-public-api-list=xdelta_init#xdelta_update#xdelta_merge#xdelta_finalize
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/greatest_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/greatest.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/greatest.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/greatest_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/greatest_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/greatest_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/greatest_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/greatest_optimized.bc
  -internalize-public-api-list=greatest
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dict_sum_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/dict_sum.c.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/dict_sum.c.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dict_sum_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dict_sum_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dict_sum_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dict_sum_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dict_sum_optimized.bc
  -internalize-public-api-list=dict_sum_init#dict_sum_update#dict_sum_merge#dict_sum_finalize
  -passes="default<O2>,globalopt,globaldce,internalize"
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_string_to_any_merged.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/yson_string_to_any.cpp.bc
  COMMAND
  ${LLVMLINK}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/yson_string_to_any.cpp.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_string_to_any_merged.bc
)

add_custom_command(
  OUTPUT
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_string_to_any_optimized.bc
  DEPENDS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_string_to_any_merged.bc
  COMMAND
  ${LLVMOPT}
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_string_to_any_merged.bc
  -o
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_string_to_any_optimized.bc
  -internalize-public-api-list=yson_string_to_any
  -passes="default<O2>,globalopt,globaldce,internalize"
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/hyperloglog.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/hyperloglog.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/farm_hash.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/farm_hash.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/bigb_hash.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/bigb_hash.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/make_map.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/make_map.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/make_list.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/make_list.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/make_entity.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/make_entity.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/str_conv.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/str_conv.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/regex.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/regex.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/replica_set.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/replica_set.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/last_seen_replica_set.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/last_seen_replica_set.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/is_finite.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/is_finite.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/to_any.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/to_any.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/lower.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/lower.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/yson_length.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/yson_length.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/dates.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/dates.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/list_contains.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/list_contains.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/list_has_intersection.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/list_has_intersection.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/any_to_yson_string.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/any_to_yson_string.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/has_permissions.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/has_permissions.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/greatest.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/greatest.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_cxx(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/yson_string_to_any.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/yson_string_to_any.cpp.bc
  ${CLANGPLUSPLUS}
  -Wno-unknown-warning-option
  -emit-llvm
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/a0be0a9e87e4702ae1320a576208a851.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/hyperloglog_optimized.bc
  KEYS
  /llvm_bc/hyperloglog
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dda3c4dd6be8a78f1812ae538736ee47.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/farm_hash_optimized.bc
  KEYS
  /llvm_bc/farm_hash
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/f1f6f56affb584519806d24589f447b7.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/bigb_hash_optimized.bc
  KEYS
  /llvm_bc/bigb_hash
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/22027c908ee19396b77d8723f98bb1c3.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_map_optimized.bc
  KEYS
  /llvm_bc/make_map
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/7a47f85ab18a02cf85eac9e7eaef32cc.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_list_optimized.bc
  KEYS
  /llvm_bc/make_list
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/29ae66e84dba37e8d9e0429b1ea6cc4c.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/make_entity_optimized.bc
  KEYS
  /llvm_bc/make_entity
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/ae8ea72e9db378ab4660d75de0739397.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/str_conv_optimized.bc
  KEYS
  /llvm_bc/str_conv
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/4098a667798572d45e16d8737bd03167.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/regex_optimized.bc
  KEYS
  /llvm_bc/regex
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/b8258f5da4c628a0c84fb6f3a8751d7f.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/concat_optimized.bc
  KEYS
  /llvm_bc/concat
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/2f4db4d38233bde1408120deabbd356f.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/stored_replica_set_optimized.bc
  KEYS
  /llvm_bc/stored_replica_set
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/65653f1c40f1c2e4a543344107095913.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/last_seen_replica_set_optimized.bc
  KEYS
  /llvm_bc/last_seen_replica_set
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/5f4ec20ccb85f95495eafced7c9da4d5.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/first_optimized.bc
  KEYS
  /llvm_bc/first
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/ad733a478b5da1dc7d0a96bb51b03419.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_prefix_optimized.bc
  KEYS
  /llvm_bc/is_prefix
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/f88e3521f8b389cf0099afc4f072fdf0.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_substr_optimized.bc
  KEYS
  /llvm_bc/is_substr
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/8f725af6058d18bc81ccf87d1a25151b.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/is_finite_optimized.bc
  KEYS
  /llvm_bc/is_finite
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/7b189c7dd63e3d01c428a1f8aff9528e.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/to_any_optimized.bc
  KEYS
  /llvm_bc/to_any
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/162dbb23eaa37f90733f6ad0ac5d00c3.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/max_optimized.bc
  KEYS
  /llvm_bc/max
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/0a598829dfad380e03a490ff18d567a7.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/min_optimized.bc
  KEYS
  /llvm_bc/min
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/d1451a33702f7190f3007fb1c4efedb8.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sleep_optimized.bc
  KEYS
  /llvm_bc/sleep
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/1b233988ed785256f44caf68e2a31bc5.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/sum_optimized.bc
  KEYS
  /llvm_bc/sum
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/866d548a6cadef2eae2c3cf4727f6190.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/ypath_get_optimized.bc
  KEYS
  /llvm_bc/ypath_get
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/1276b8186777fb2549981f7f100f4851.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/lower_optimized.bc
  KEYS
  /llvm_bc/lower
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/2e11c2bb2e4e15233288517fa383eaa5.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/length_optimized.bc
  KEYS
  /llvm_bc/length
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/0a3e0445570226f787d0a072eeeae238.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_length_optimized.bc
  KEYS
  /llvm_bc/yson_length
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/3ab18e8cac0e865009bf72a29d47dafc.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dates_optimized.bc
  KEYS
  /llvm_bc/dates
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/7ad10698537d6d9a5471c59282395582.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/format_guid_optimized.bc
  KEYS
  /llvm_bc/format_guid
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/92bf4e9dd5f444eae4740ae9538d2325.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_contains_optimized.bc
  KEYS
  /llvm_bc/list_contains
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/c45ee0d78ae34fedf23260e28bc06c65.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/list_has_intersection_optimized.bc
  KEYS
  /llvm_bc/list_has_intersection
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/4953687a7b828371825ead7a204d9eb1.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/any_to_yson_string_optimized.bc
  KEYS
  /llvm_bc/any_to_yson_string
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/decbfffe4f4b3496370010ffcd66581e.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/has_permissions_optimized.bc
  KEYS
  /llvm_bc/has_permissions
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/22cfcf58ea9f30d440ded279b00b2ee6.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/xdelta_optimized.bc
  KEYS
  /llvm_bc/xdelta
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/4538b0b306dcad34198804d167b5c954.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/greatest_optimized.bc
  KEYS
  /llvm_bc/greatest
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/1e5ca94226708fc7b55334a637d40f12.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/dict_sum_optimized.bc
  KEYS
  /llvm_bc/dict_sum
  OPTS
)

resources(library-query-engine.global
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/03f4075187902a2612a670cb9c51b4df.cpp
  INPUTS
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/yson_string_to_any_optimized.bc
  KEYS
  /llvm_bc/yson_string_to_any
  OPTS
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/concat.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/concat.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/first.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/first.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/is_prefix.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/is_prefix.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/is_substr.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/is_substr.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/max.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/max.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/min.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/min.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/sleep.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/sleep.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/sum.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/sum.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/ypath_get.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/ypath_get.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/length.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/length.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/format_guid.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/format_guid.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/xdelta3.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/xdelta3.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)

llvm_compile_c(library-query-engine.global
  ${PROJECT_SOURCE_DIR}/yt/yt/library/query/engine/udf/dict_sum.c
  ${PROJECT_BINARY_DIR}/yt/yt/library/query/engine/udf/dict_sum.c.bc
  ${CLANGC}
  -Wno-unknown-warning-option
  -emit-llvm
)
