# Управление вычислительными пулами

В данном разделе рассказано о том, как создавать пулы, управлять ресурсами и настройками вычислительных пулов в системе {{product-name}} на примере CLI и веб-интерфейса.

## Общие сведения { #common }

В системе {{product-name}} реализована возможность управлять вычислительными пулами. Поддерживаются такие действия с пулами, как:

- создание;
- переименование;
- перемещение;
- удаление;
- изменение настроек.

Изменение настроек вычислительного пула осуществляется путём редактирования соответствующих атрибутов пула. Доступные атрибуты для редактирования пользователем:

* `weight` — управление долей ресурсов родительского пула, которая будет доставаться текущему пулу;
* `max_operation_count` — ограничение на число выполняющихся (`running`) операций и операций в очереди (`pending`);
* `max_running_operation_count` — ограничение на число выполняющихся (`running`) операций;
* `strong_guarantee_resources` — словарь, описывающий гарантированные ресурсы пула;
* `forbid_immediate_operations` — запрет на запуск операций непосредственно в данном пуле;
* `mode` — способ распределения ресурсов между операциями в пуле;
* `fifo_sort_parameters` — управление очередностью запуска операций в fifo-пулах;
* `resource_limits` — словарь, задающий верхние ограничения для ресурсов, доступных пулу;
* `create_ephemeral_subpools` — разрешение создавать [эфемерные пулы](../../../../user-guide/data-processing/scheduler/scheduler-and-pools.md#puly-i-derevya-pulov);
* `ephemeral_subpool_config` — словарь, описывающий конфигурацию виртуальных пулов.

Подробное описание указанных атрибутов см. в разделе [Характеристики пулов](../../../../user-guide/data-processing/scheduler/pool-settings.md#pools).

### Валидация

При валидации система {{product-name}} проверяет типы атрибутов, ограничение `max_operation_count >= max_running_operation_count`, количество тегов в списке `allowed_profiling_tags` (не более 200), отсутствие подпулов в fifo-пулах и согласованность гарантий на ресурсы.

Согласованность гарантий на ресурсы означает, что по каждому ресурсу сумма гарантий потомков не должна превышать гарантию родителя. Если на подпуле выставлена ненулевая гарантия на некоторый ресурс, то она должна быть выставлена и у родителя. При этом допускается, что у пула ненулевая гарантия выставлена на более чем одном ресурсе.
