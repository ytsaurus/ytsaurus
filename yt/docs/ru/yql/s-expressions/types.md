# Типы данных в s-expressions

* **Atom** — тип **ATOM_VALUE**, нетипизированная последовательность байтов.
* **Tuple** — тип **LIST_VALUE**, гетерогенная последовательность элементов, с известной на этапе компиляции длиной. Состоит из нуля или более элементов, каждый из которых является типом.
* **DataSource** — источник данных.
* **DataSink** — приемник данных.
* **Struct** — именованное неупорядоченное отображение имен на значения. Состоит из пар: атом—дочерний тип.
* **List** — гомогенная последовательность элементов. Указывает один тип для всех элементов списка.
* **Key** — ключ, используется для координат в источнике/приемнике данных.
* **Data** — типизированная последовательность байтов, состоит из названия типа вида Int32/String.
* **World** — тип объекта world.
* **Optional** — список, содержащий 0 или 1 элемент. Состоит из типа — элемента optional.
* **Type** — тип, содержащий некоторый другой тип.
* **Dict** — словарь. Состоит из типа ключа, который должен иметь тип `Data`, `Optional of Data` или быть непустым кортежем из этих двух типов, и типа значения (payload).
* **Void** — специальное значение, существует в одном экземпляре (singleton).
* **Null** — тип, преобразуемый в любой пустой optional.
* **EmptyList** — тип, преобразуемый в любой пустой список.
* **EmptyDict** — тип, преобразуемый в любой пустой словарь.
* **Callable** — вызываемое значение: объект, которому можно передать аргументы и получить результат. Тип определяется типом аргументов и типом результата.
* **Resource** — непрозрачный указатель на ресурс. Объект, единственный сценарий использования которого, — передать в качестве аргумента вызываемого значения (**Callable**).
* **Variant** — адаптер к непустым **Struct** или **Tuple**, в процессе выполнения вычисления в экземпляре данных этого типа задан ровно один из элементов.
* **Stream** - гомогенная последовательность элементов, которую можно посетить только один раз. Также некоторые стримы могут приостанавливаться, требуя приостановки их клиента.

Полная программа должна иметь тип **World**.

## Поддерживаемые типы Data

* **Bool** - логический тип.
* **Int8** - signed число 1 байт.
* **Uint8** - unsigned число 1 байт.
* **Int16** - signed число 2 байта.
* **Uint16** - unsigned число 2 байта.
* **Int32** - signed число 4 байта.
* **Uint32** - unsigned число 4 байта.
* **Int64** - signed число 8 байта.
* **Uint64** - unsigned число 8 байта.
* **Float** - число с плавающей точкой 4 байта
* **Double** - число с плавающей точкой 8 байт
* **String** - бинарная строка
* **Utf8** - строка с валидным utf-8 представлением
* **Yson** - строка с валидным yson представлением (текстовым или бинарным)
* **Json** - строка с валидным json представлением
* **Date** - unsigned количество дней начиная с 1970 года, 2 байта. Допустимый диапазон - от 1970 года (включительно) до 2106 года (не включительно) [0..49673 - 1]
* **Datetime** - unsigned количество секунд начиная с 1970 года, 4 байта. Допустимый диапазон - от 1970 года (включительно) до 2106 года (не включительно). [0..49673*86400 - 1]
* **Timestamp** - unsigned количество микросекунд начиная с 1970 года, 8 байт. Допустимый диапазон - от 1970 года (включительно) до 2106 года (не включительно). [0..49673*86400*1000000 - 1]
* **Interval** - signed количество микросекунд. Допустимый диапазон по модулю - количество микросекунд в диапазоне от 1970 года (включительно) до 2106 года (не включительно). [-(49673*86400*1000000 - 1)..49673*86400*1000000 - 1]
* **TzDate** - **Date** с меткой временной зоны ([IANA name](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) при переводе в текст и обратно)
* **TzDatetime** - **Datetime** с меткой временной зоны ([IANA name](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) при переводе в текст и обратно)
* **TzTimestamp** - **Timestamp** с меткой временной зоны ([IANA name](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) при переводе в текст и обратно)
* **Uuid** - universally unique identifier [RFC 4122](https://tools.ietf.org/html/rfc4122)
