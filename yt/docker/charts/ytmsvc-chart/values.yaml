nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  annotations: {}
  name: ""

podAnnotations: {}
podLabels: {}

podSecurityContext: {}
  # fsGroup: 2000

securityContext: {}
  # capabilities:
  #   drop:
  #   - ALL
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
  # runAsUser: 1000

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

volumes: []
# - name: foo
#   secret:
#     secretName: mysecret
#     optional: false

volumeMounts: []
# - name: foo
#   mountPath: "/etc/foo"
#   readOnly: true

nodeSelector: {}

tolerations: []

affinity: {}

cluster:
  proxy: "http-proxies-lb.ytsaurus-dev.svc.cluster.local"
  name: "ytsaurus"

cors:
  allowedHosts: []
  allowedHostSuffixes: []

authCookieName: "YTCypressCookie"

image:
  repository: ghcr.io/ytsaurus/ytmsvc
  pullPolicy: Always
  tag: "0.0.0-alpha"
imagePullSecrets: []

secretRefs: [ytsaurus-msvc]

microservices:
  resourceUsage:
    enabled: true
    image: {}
    resources: {}
    api:
      enabled: true
      service:
        type: ClusterIP
        port: 80
        metricsPort: 81
      config:
        httpAddr: "[::]:80"
        httpHandlerTimeout: 120s
        debugHttpAddr: "[::]:81"
        apiPrefix: "/"
        snapshotRoot: "//sys/admin/yt-microservices/resource_usage"
        logToStderr: true
        logsDir: "/resource-usage/logs"
        logsStorageSize: 5Gi
        excludedFields: []
        updateSnapshotsOnEveryRequest: false
        debugLogin: ""
        disableAcl: false
    preprocessing:
      enabled: true
      schedule: "0 * * * *"
      successfulJobsHistoryLimit: 1
      failedJobsHistoryLimit: 2
      startingDeadlineSeconds: 5
      ttlSecondsAfterFinished: 43200
    removeExcessive:
      enabled: true
      schedule: "0 0 * * *"
      successfulJobsHistoryLimit: 1
      failedJobsHistoryLimit: 2
      startingDeadlineSeconds: 5
      ttlSecondsAfterFinished: 43200
      config:
        denominator: 1.4
        stepSizeIncrease: 2.86
        ignoreWindowSize: '{"days": 3}'
        firstStepWindowSize: '{"weeks": 1}'
        firstStepAllowedFrequency: '{"hours": 6}'
    secretRefs: []
  bulkAclChecker:
    enabled: true
    image: {}
    resources: {}
    api:
      enabled: true
      service:
        type: ClusterIP
        port: 80
    preprocessing:
      enabled: true
      schedule: "0 * * * *"
      successfulJobsHistoryLimit: 1
      failedJobsHistoryLimit: 2
      startingDeadlineSeconds: 5
      ttlSecondsAfterFinished: 43200
    secretRefs: []
  idToPathUpdater:
    enabled: true
    image: {}
    resources: {}
    config:
      tmpPath: "//sys/admin/yt-microservices/tmp/id_to_path_updater"
      outputTable: "//sys/admin/yt-microservices/node_id_dict/data"
      inputTablesSource: "//sys/admin/logs/export/master-access"
    preprocessing:
      enabled: true
      schedule: "0 * * * *"
      successfulJobsHistoryLimit: 1
      failedJobsHistoryLimit: 2
      startingDeadlineSeconds: 5
      ttlSecondsAfterFinished: 43200
    secretRefs: []
    init:
      enabled: true
      tabletCellBundle: sys
      primaryMedium: default
  accessLogViewer:
    enabled: true
    image: {}
    resources: {}
    api:
      enabled: true
      service:
        type: NodePort
        port: 80
      config:
        chytAlias: "ch_public"
    rawLogPreprocessing:
      enabled: true
      schedule: "*/15 * * * *"
      successfulJobsHistoryLimit: 1
      failedJobsHistoryLimit: 2
      startingDeadlineSeconds: 5
      config:
        accessLogExportPath: "//sys/admin/logs/export/master-access"
        lockPath: "//sys/admin/yt-microservices/raw_log_processing/lock"
        workPath: "//sys/admin/yt-microservices/raw_log_processing"
        maxInputTables: 16
    preprocessing:
      enabled: true
      schedule: "*/15 * * * *"
      successfulJobsHistoryLimit: 1
      failedJobsHistoryLimit: 2
      startingDeadlineSeconds: 5
      config:
        inputPath: "//sys/admin/logs/export/master-access-parsed"
        outputPath: "//sys/admin/yt-microservices/access_log_viewer"
        tmpPath: "//sys/admin/yt-microservices/tmp/access_log_viewer"
        maxParallelOps: 1
        maxTables: 100
        networkProject: null
    secretRefs: []
