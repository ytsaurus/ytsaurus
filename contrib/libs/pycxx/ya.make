# Generated by devtools/yamaker from nixpkgs 24.05.

PY23_NATIVE_LIBRARY()

LICENSE(BSD-3-Clause)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

VERSION(7.1.8)

ORIGINAL_SOURCE(mirror://sourceforge/cxx/CXX/PyCXX%20V7.1.8/pycxx-7.1.8.tar.gz)

ADDINCL(
    contrib/libs/pycxx
)

NO_COMPILER_WARNINGS()

NO_UTIL()

CFLAGS(
    -DY_PYCXX_BUILD=1
    -DPYCXX_PYTHON_2TO3
    -DPYCXX_6_2_COMPATIBILITY
)

IF (NOT OS_WINDOWS OR BUILD_TYPE != DEBUG)
    CFLAGS(
        -DPy_LIMITED_API=0x03040000
    )
ENDIF()

SRCS(
    Src/IndirectPythonInterface.cxx
    Src/cxx_exceptions.cxx
    Src/cxx_extensions.cxx
    Src/cxxextensions.c
    Src/cxxsupport.cxx
)

END()
